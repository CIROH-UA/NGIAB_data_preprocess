<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Application</title>
    <!-- Leaflet CSS -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" /> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/legend.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/map.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://unpkg.com/maplibre-gl@^4.7.1/dist/maplibre-gl.js"></script>
    <script src="https://unpkg.com/pmtiles@3.0.6/dist/pmtiles.js"></script>
    <link href="https://unpkg.com/maplibre-gl@^4.7.1/dist/maplibre-gl.css" rel="stylesheet" />
</head>

<body>
    <header>
        <h1>Select catchments by clicking!</h1>        
    </header>

    <main>
        <section id="map-container">
            <div id="map"></div>
            <div id="cli-command"></div>
            <h2>For selection by gage id please use cli.</h2>
        </section> 
        <section id="basins-container">
            <h2>Selected Basins</h2>
            <div id="selected-basins">None - get clicking!</div>
            <button id="subset-button">Create subset gpkg</button>
            <img class="loading" src="{{ url_for('static', filename='resources/loading.gif') }}" alt="Loading"
                id="subset-loading">
            <!-- <button id="subset-to-file-button">Output list of upstreams to file</button>
            <img class="loading" src="{{ url_for('static', filename='resources/loading.gif') }}" alt="Loading"
                id="subset-to-file-loading"> -->
            <div id="output-info">
                <strong>Output folder is configured in the ~/.ngiab/preprocessor file</strong>
            </div>
            <div id="output-path"></div>
        </section>

        <section id="time-settings">
            <div class="time-input">
                <label for="start-time">Start Time:</label>
                <input type="datetime-local" id="start-time" name="start-time" value="2010-01-01T00:00">
            </div>
            <div class="time-input">
                <label for="end-time">End Time:</label>
                <input type="datetime-local" id="end-time" name="end-time" value="2010-01-02T00:00">
            </div>
        </section>

        <section id="forcings">
            <div id="forcings-warning">
                <strong>Forcing generation may take a while.<br> Use the Cli for progress bars and additional information</strong>
            </div>
            <button id="forcings-button">Create Forcing From Zarrs</button>
            <img class=" loading" src="{{ url_for('static', filename='resources/loading.gif') }}" alt="Loading"
                id="forcings-loading">
            <div id="forcings-output-path"></div>
        </section>

        <section id="realization">
            <button id="realization-button">Create Realization</button>
            <div id="realization-output-path"></div>
        </section>


    </main>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/console.css') }}">
    <div id="console" class="minimized">
        <div class="center">
            <button id="toggleConsole">Show Console</button>
        </div>
        <div id="logOutput"></div>
    </div>
    <script src="{{ url_for('static', filename='js/console.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.6.2/proj4.js"></script>
    <script type="module" src="{{ url_for('static', filename='js/data_processing.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js' ) }}"></script>

</body>

</html>